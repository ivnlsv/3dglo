function k(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const b=l=>{const a=document.getElementById("timer-days"),n=document.getElementById("timer-dayName"),r=document.getElementById("timer-hours"),e=document.getElementById("timer-minutes"),t=document.getElementById("timer-seconds"),c=o=>o<10?"0"+o:o,f=o=>o%10===1&&o%100!==11?"день":o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?"дня":"дней",y=()=>{let o=new Date(l).getTime();const u=new Date().getTime(),i=(o-u)/1e3;if(i<=0)return{timeRemaining:i,days:0,hours:0,minutes:0,seconds:0};const p=Math.floor(i/60/60/24),g=Math.floor(i/60/60%24),v=Math.floor(i/60%60),S=Math.floor(i%60);return{timeRemaining:i,days:p,hours:g,minutes:v,seconds:S}},s=()=>{const o=y();a.textContent=o.days,n.textContent=f(o.days),r.textContent=c(o.hours),e.textContent=c(o.minutes),t.textContent=c(o.seconds),o.timeRemaining<=0&&clearInterval(m)},m=setInterval(s,1e3);s()},x=()=>{const l=document.querySelector("main"),a=document.querySelector(".menu img"),n=document.querySelector("menu"),r=e=>{e&&e!==a&&!n.contains(e)?n.classList.remove("active-menu"):n.classList.toggle("active-menu")};l.addEventListener("click",e=>{r(e.target)}),n.addEventListener("click",e=>{(e.target.classList.contains("close-btn")||e.target.matches("ul>li>a"))&&r(e.target)})},L=({timing:l,draw:a,duration:n})=>{const r=performance.now();requestAnimationFrame(function e(t){let c=(t-r)/n;c>1&&(c=1);const f=l(c);a(f),c<1&&requestAnimationFrame(e)})},I=()=>{const l=document.querySelector(".popup"),a=document.querySelectorAll(".popup-btn"),n=l.querySelector(".popup-close"),r=()=>{l.style.display="block",L({timing:t=>t,draw:t=>{l.style.opacity=t},duration:500})},e=()=>{L({timing:t=>t,draw:t=>{l.style.opacity=1-t},duration:500}),setTimeout(()=>{l.style.display="none"},500)};a.forEach(t=>{t.addEventListener("click",r)}),n.addEventListener("click",e),l.addEventListener("click",t=>{(!t.target.closest(".popup-content")||t.target.classList.contains("popup-close"))&&e()})},w=()=>{const l=document.querySelectorAll("ul>li>a"),a=document.querySelector(".scroll-to"),n=r=>{const e=r.getBoundingClientRect().top+window.scrollY,t=window.scrollY,c=e-t,f=1e3;let y=null;const s=o=>{y===null&&(y=o);const u=o-y,i=m(u,t,c,f);window.scrollTo(0,i),u<f&&requestAnimationFrame(s)},m=(o,u,i,p)=>(o/=p/2,o<1?i/2*o*o+u:(o--,-i/2*(o*(o-2)-1)+u));requestAnimationFrame(s)};l.forEach(r=>{r.addEventListener("click",e=>{e.preventDefault();const t=e.target.getAttribute("href"),c=document.querySelector(t);c&&n(c)})}),a.addEventListener("click",r=>{r.preventDefault();const e=document.querySelector("#service-block");e&&n(e)})},A=()=>{const l=document.querySelector(".service-header"),a=document.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");l.addEventListener("click",r=>{if(r.target.closest(".service-header-tab")){const e=r.target.closest(".service-header-tab");a.forEach((t,c)=>{t===e?(t.classList.add("active"),n[c].classList.remove("d-none")):(t.classList.remove("active"),n[c].classList.add("d-none"))})}})},B=(l=".portfolio-content",a=".portfolio-item",n="dot",r="portfolio-item-active",e="dot-active")=>{const t=document.querySelector(l);if(!t){console.error('Элемент слайдера с классом "'.concat(l,'" не найден. Выход.'));return}const c=document.querySelectorAll(a);if(c.length===0){console.error('Слайды с классом "'.concat(a,'" не найдены. Выход.'));return}const f=document.querySelector(".portfolio-dots");if(!f){console.error("Блок с точками не найден. Выход.");return}const y=2e3;let s=0,m=0;const o=(d,h,E)=>{d[h].classList.remove(E)},u=(d,h,E)=>{d[h].classList.add(E)},i=()=>{v(),o(c,s,r),o(f.children,s,e),s++,s>=c.length&&(s=0),u(c,s,r),u(f.children,s,e)},p=(d=1500)=>{m=setInterval(i,d)},g=()=>{clearInterval(m)},v=()=>{f.innerHTML="";for(let d=0;d<c.length;d++){const h=document.createElement("li");h.classList.add(n),f.appendChild(h)}S()},S=()=>{[...f.children].forEach((d,h)=>{h===s?d.classList.add(e):d.classList.remove(e)})};t.addEventListener("click",d=>{d.preventDefault(),d.target.matches(".".concat(n,", .portfolio-btn"))&&(o(c,s,r),o(f.children,s,e),d.target.matches("#arrow-right")?s++:d.target.matches("#arrow-left")?s--:d.target.classList.contains(n)&&[...f.children].forEach((h,E)=>{d.target===h&&(s=E)}),s>=c.length&&(s=0),s<0&&(s=c.length-1),u(c,s,r),u(f.children,s,e))}),t.addEventListener("mouseenter",d=>{v(),d.target.matches(".".concat(n,", .portfolio-btn"))&&g()},!0),t.addEventListener("mouseleave",d=>{d.target.matches(".".concat(n,", .portfolio-btn"))&&p(y)},!0),p(y)},M=(l=100)=>{const a=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),e=document.querySelector(".calc-count"),t=document.querySelector(".calc-day"),c=document.getElementById("total"),f=()=>{const s=+n.options[n.selectedIndex].value,m=r.value;let o=0,u=1,i=1;e.value>1&&(u+=+e.value/10),t.value&&t.value<5?i=2:t.value&&t.value<10&&(i=1.5),n.value&&r.value?o=l*s*m*u*i:o=0,y(c,c.textContent,o,500)},y=(s,m,o,u)=>{let i=null;const p=g=>{i||(i=g);const v=Math.min((g-i)/u,1);s.textContent=Math.floor(v*(o-m)+ +m),v<1&&window.requestAnimationFrame(p)};window.requestAnimationFrame(p)};a.addEventListener("input",s=>{(s.target===n||s.target===r||s.target===e||s.target===t)&&f()})},T=l=>{const a={calcItem:{elements:l.querySelectorAll(".calc-item:not(.calc-type)"),regex:/^[0-9]*$/,errorMsg:"Введите только цифры"},textItem:{elements:l.querySelectorAll('input[type="text"][placeholder="Ваше имя"]'),regex:/^[а-яА-ЯёЁ\s]+$/,errorMsg:"Недопустимый ввод в текстовое поле. Введите только буквы на кирилице и пробел"},emailItem:{elements:l.querySelectorAll("input[type=email]"),regex:/^[a-zA-Z0-9@._!~*'-]+$/,errorMsg:"Недопустимый ввод e-mail. Введите только буквы на латинице, @ - _ . ! ~ *"},telItem:{elements:l.querySelectorAll("input[type=tel]"),regex:/^[0-9()\-+]+$/,errorMsg:"Недопустимый ввод номера телефона. Введите только цифры 0-9, () - +"},msgItem:{elements:l.querySelectorAll('input[type=text][placeholder="Ваше сообщение"]'),regex:/^[а-яА-ЯёЁ\s0-9.,?!]+$/,errorMsg:"Недопустимый ввод в текстовое поле. Введите только кириллицу, пробелы, цифры и знаки препинания"}},n=[];return Object.values(a).forEach(({elements:r,regex:e,errorMsg:t})=>{r.forEach(c=>{c.value?e.test(c.value)||n.push({field:c,message:t}):n.push({field:c,message:"Поле не может быть пустым"})})}),n},q=({formId:l,someElem:a=[]})=>{const n=document.getElementById(l),r=document.createElement("div"),e="Загрузка...",t="Ошибка...",c="Спасибо! Наш менеджер свяжется с вами!",f=m=>fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(m),headers:{"Content-type":"application/json"}}).then(o=>o.json()),y=m=>{m.forEach(({field:o,message:u})=>{alert(u),o.value=""})},s=()=>{const m=n.querySelectorAll("input"),o=new FormData(n),u={};r.textContent=e,n.append(r),o.forEach((p,g)=>{u[g]=p}),a.forEach(p=>{const g=document.getElementById(p.id);p.type==="block"?(r.style.color="white",u[p.id]=g.textContent):p.type==="input"&&(u[p.id]=g.value)});const i=T(n);i.length===0?f(u).then(p=>{r.textContent=c,setTimeout(()=>{r.textContent=""},5e3),m.forEach(g=>{g.value=""})}).catch(p=>{r.textContent=t}):(n.removeChild(r),y(i))};try{if(!n)throw new Error("Верните форму на место, пожалуйста");n.addEventListener("submit",m=>{m.preventDefault(),s()})}catch(m){console.log(m.message)}};b("28 february 2025");x();I();w();A();B();M(100);q({formId:"form1",someElem:[{type:"block",id:"total"}]});q({formId:"form2",someElem:[{type:"block",id:"total"}]});q({formId:"form3",someElem:[{type:"block",id:"total"}]});export{k as __vite_legacy_guard};
